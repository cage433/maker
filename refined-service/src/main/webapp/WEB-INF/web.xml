<?xml version="1.0"?>
        
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
          "http://java.sun.com/dtd/web-app_2_3.dtd">

<web-app>

  <display-name>Starling Service</display-name>

  <context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>classpath*:starling.xml</param-value>
  </context-param>  
  <context-param>
    <param-name>resteasy.servlet.mapping.prefix</param-name>
    <param-value>/RPC</param-value>
  </context-param>

 <!--
  <filter>
    <filter-name>springSecurityFilterChain</filter-name>
    <filter-class>
      org.springframework.web.filter.DelegatingFilterProxy
    </filter-class>
  </filter>

  <filter-mapping>
    <filter-name>springSecurityFilterChain</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>

  <listener>
    <listener-class>
      org.jboss.resteasy.plugins.server.servlet.ResteasyBootstrap
    </listener-class>
  </listener>
  <listener>
    <listener-class>
      org.jboss.resteasy.plugins.spring.SpringContextLoaderListener
    </listener-class>
  </listener>

  <servlet>
    <servlet-name>Resteasy</servlet-name>
    <servlet-class>
      org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher
    </servlet-class>
    <load-on-startup>2</load-on-startup>
  </servlet>
-->
  <servlet>
    <servlet-name>Info</servlet-name>
    <servlet-class>
      com.trafigura.services.build.BuildInfoServlet
    </servlet-class>
  </servlet>
  <servlet>
    <servlet-name>AppTxt</servlet-name>
    <servlet-class>
      starling.http.JBossAppTxtServlet
    </servlet-class>
  </servlet>
  <servlet>
    <servlet-name>JnlpLauncher</servlet-name>
    <servlet-class>
      starling.http.JBossJnlpServlet
    </servlet-class>
  </servlet>
  <servlet>
    <servlet-name>StarlingServer</servlet-name>
    <servlet-class>
      starling.http.JBossStarlingServlet
    </servlet-class>
    <load-on-startup>1</load-on-startup>
  </servlet>

  <servlet-mapping>
    <servlet-name>Info</servlet-name>
    <url-pattern>/info</url-pattern>
  </servlet-mapping>
<!--
  <servlet-mapping>
    <servlet-name>Resteasy</servlet-name>
    <url-pattern>/RPC/*</url-pattern>
  </servlet-mapping> -->
  <servlet-mapping>
    <servlet-name>AppTxt</servlet-name>
    <url-pattern>/webstart/app.txt</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>JnlpLauncher</servlet-name>
    <url-pattern>/webstart/launcher.jnlp</url-pattern>
  </servlet-mapping>
</web-app>
