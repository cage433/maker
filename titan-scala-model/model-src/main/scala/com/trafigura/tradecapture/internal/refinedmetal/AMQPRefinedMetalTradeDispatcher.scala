/**
 * WARNING: This file was automatically generated by the Trading Hub tooling version .
 * Any manual changes may be overwritten and lost!
 */


// Generated from model_dispatcher_amqp.erb

package com.trafigura.tradecapture.internal.refinedmetal

import com.trafigura.tradinghub.support._

/**
 * Dispatcher for sending com.trafigura.tradecapture.internal.refinedmetal.RefinedMetalTrade entities.
 */
class AMQPRefinedMetalTradeDispatcher(connectorHolder:ConnectorHolder, appName:String)
    extends AbstractAMQPDispatcher(connectorHolder)
    with RefinedMetalTradeDispatcher {

  def exchangeName = "Trafigura.RefinedMetalTrade." + appName

  def dispatchRefinedMetalTrade(objs:List[com.trafigura.tradecapture.internal.refinedmetal.RefinedMetalTrade], metadata:Map[String, String]) {
    val arr = new org.codehaus.jettison.json.JSONArray(java.util.Arrays.asList(objs.map(t => t.toJson()).toArray: _*))
    dispatch(arr.toString.getBytes("UTF-8"), "", metadata)
  }
}
